---
- name: Ping Linux
  hosts: linux
  tags:
    - ping
    - linux
  tasks:
    - name: Ping Linux
      ansible.builtin.ping:

- name: Ping Windows
  hosts: windows
  tags: 
    - ping
    - windows
  tasks:
    - name: Ping Windows
      ansible.windows.win_ping:

#################################
########### Management ##########
#################################

- name: Deploy OpenVPN Server
  hosts: jumpbox
  roles:
    - openvpn_server
  tags: 
    - mgmt
    - openvpn
    - openvpn_server

- name: Deploy Scoring Server
  hosts: deploy
  roles:
    - scoring_server
  tags: 
    - mgmt
    - scoring
    - scoring_server

#################################
########### Team Hosts ##########
#################################

#######################
######## WINDOWS ######
#######################

######## Generic ######

- name: Run Windows Standards 
  hosts: windows:&inscope
  roles:
    - windows_standards
  tags: 
    - windows
    - team
    - standards
    - stds

- name: Create Local Users
  hosts: windows:&inscope
  roles:
    - windows_users_local
  tags:
  - windows
  - team
  - local_users

#- name: Deploy Rustdesk Windows
#  hosts: windows:&gui
#  roles:
#    - windows_rustdesk
#  tags:
#    - windows 
#    - team 
#    - rustdesk
#    - rustdesk_windows

- name: Install Utilities
  hosts: windows:&inscope
  roles:
    - windows_utilities
  tags:
    - windows
    - team
    - utilities

- name: Set Wallpaper
  hosts: windows:&inscope
  roles:
    - windows_wallpaper
  tags:
    - windows
    - team
    - wallpaper

- name: Deploy User Files
  hosts: windows:&inscope
  roles:
    - windows_user_files
  tags:
    - windows
    - team
    - files

###### Services #######

- name: Windows Deploy MSSQL
  hosts: windows:&inscope
  roles:
    - windows_mssql
  tags:
    - windows
    - team
    - mssql

####### Finish #######

- name: Post Deploy Cleanup
  hosts: windows:&inscope
  roles:
    - windows_finish
  tags:
    - windows 
    - team 
    - post_deploy

#######################
######## LINUX ########
#######################

####### Generic #######

- name: Deploy Linux Standards
  hosts: linux
  roles:
    - linux_standards
  tags:
    - linux 
    - team 
    - standards
    - stds

- name: Deploy Linux Users
  hosts: linux
  roles:
    - linux_users
  tags:
    - linux 
    - team 
    - users
    - users_linux

- name: Deploy Rustdesk Linux
  hosts: linux:&gui
  roles:
    - linux_rustdesk
  tags:
    - linux 
    - team 
    - rustdesk
    - rustdesk_linux

###### Services #######

####### Finish ########

- name: Clean Up
  hosts: linux
  roles:
    - linux_finish
  tags:
    - linux 
    - team
    - finish
    - post_deploy

- name: Reboot
  hosts: linux
  roles:
    - linux_reboot
  tags:
    - linux
    - team
    - reboot
    - post_deploy